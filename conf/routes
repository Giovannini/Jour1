# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET           /                                                        controllers.Application.index

GET           /init                                                    controllers.map.WorldInitialisation.initialization

GET           /instances                                               controllers.map.WorldInitialisation.getWorld
GET           /instances/:initInstanceId/:actionType/:conceptId        controllers.RestCall.getPossibleDestinationOfAction(initInstanceId: Long, actionType: Long, conceptId: Long)

#Instances manipulation
GET           /instances/edit/:instanceId                              controllers.RestCall.editInstance(instanceId: Int)
GET           /instances/create/:conceptId                             controllers.RestCall.createInstance(conceptId: Int)

GET           /instances/:instanceId                                   controllers.RestCall.getInstanceById(instanceId: Int)
DELETE        /instances/:instanceId                                   controllers.ontology.InstanceManager.delete(instanceId: Int)
POST          /instances/update                                        controllers.ontology.InstanceManager.update
POST          /instances/create                                        controllers.ontology.InstanceManager.create


#Graph manipulation
GET           /graph                                                   controllers.graph.GraphVisualisation.index
GET           /graph/properties/:propertyId                            controllers.graph.GraphVisualisation.getProperty(propertyId: Int)
GET           /graph/actions                                           controllers.interaction.ActionController.getActions

# Concept CRUD
GET           /concepts                                                controllers.RestCall.getAllConcepts
GET           /concepts/simple                                         controllers.RestCall.getAllSimplifiedConcepts
GET           /concepts/:conceptId                                     controllers.RestCall.getConceptById(conceptId: Long)

POST          /concepts/:label                                         controllers.graph.concept.ConceptController.createConcept(label: String)
DELETE        /concepts/:label                                         controllers.graph.concept.ConceptController.deleteConcept(label: String)
PUT           /concepts/:label                                         controllers.graph.concept.ConceptController.updateConcept(label: String)
GET           /concepts/:label/actions                                 controllers.graph.concept.ConceptController.getActions(label: String)
GET           /concepts/:label/:deepness                               controllers.graph.concept.ConceptController.readConcept(label: String, deepness: Int)

# Relation CRUD
# adding relations to the graph
POST          /graph/relations/:label/:source/:target                  controllers.graph.relation.RelationGraphController.addRelationToGraph(label: String, source: Long, target: Long)
DELETE        /graph/relations/:label/:source/:target                  controllers.graph.relation.RelationGraphController.removeRelationToGraph(label: String, source: Long, target: Long)

POST          /graph/relations/:label                                  controllers.graph.relation.RelationGraphController.createRelation(label: String)
GET           /graph/relations/:label                                  controllers.graph.relation.RelationGraphController.getRelation(label: String)
PUT           /graph/relations/:label                                  controllers.graph.relation.RelationGraphController.updateRelation(label: String)
DELETE        /graph/relations/:label                                  controllers.graph.relation.RelationGraphController.deleteRelation(label: String)

# Preconditions CRUD
GET           /preconditions                                           controllers.interaction.precondition.PreconditionController.getPreconditions
POST          /preconditions/:label                                    controllers.interaction.precondition.PreconditionController.createPrecondition(label: String)
GET           /preconditions/:label                                    controllers.interaction.precondition.PreconditionController.getPrecondition(label: String)
PUT           /preconditions/:label                                    controllers.interaction.precondition.PreconditionController.updatePrecondition(label: String)
DELETE        /preconditions/:label                                    controllers.interaction.precondition.PreconditionController.deletePrecondition(label: String)

# Properties CRUD
GET           /properties                                              controllers.rules.PropertyController.getProperties
POST          /properties/:label                                       controllers.rules.PropertyController.createProperty(label: String)
GET           /properties/:label                                       controllers.rules.PropertyController.getProperty(label: String)
PUT           /properties/:label                                       controllers.rules.PropertyController.updateProperty(label: String)
DELETE        /properties/:label                                       controllers.rules.PropertyController.deleteProperty(label: String)

# Relations visualisation
GET           /relations                                               controllers.graph.relation.RelationSQLController.index
GET           /relations/:label                                        controllers.graph.relation.RelationSQLController.readAction(label: String)
POST          /relations/:label                                        controllers.graph.relation.RelationSQLController.createRelation(label: String)
PUT           /relations/:label                                        controllers.graph.relation.RelationSQLController.updateRelation(label: String)
DELETE        /relations/:label                                        controllers.graph.relation.RelationSQLController.deleteRelation(label: String)

# Action CRUD
GET           /actions                                                 controllers.interaction.ActionController.getActions
GET           /actions/:label                                          controllers.interaction.ActionController.readAction(label: String)
POST          /actions/:label                                          controllers.interaction.ActionController.createAction(label: String)
PUT           /actions/:label                                          controllers.interaction.ActionController.updateAction(label: String)
DELETE        /actions/:label                                          controllers.interaction.ActionController.deleteAction(label: String)

# Rules visualisation
# TODO :  delete when the action CRUD is done
#GET           /rules                                                   controllers.rules.RulesVisualisation.index
#GET           /rules/delete/:id                                        controllers.rules.RulesVisualisation.delete(id: Long)
#GET           /rules/load/:id                                          controllers.rules.RulesVisualisation.load(id: Long)
#GET           /rules/save                                              controllers.rules.RulesVisualisation.form
#POST          /rules/save                                              controllers.rules.RulesVisualisation.submit

# Map routes
GET           /map                                                     controllers.map.MapController.show
POST          /map/action                                              controllers.RestCall.executeAction
GET           /map/relations/:conceptId                                controllers.RestCall.getAllActionsOf(conceptId: Int)

GET           /map/socket                                              controllers.map.MapController.indexWS
GET           /map/socket/start                                        controllers.map.MapController.start
GET           /map/socket/stop                                         controllers.map.MapController.stop

GET           /next                                                    controllers.RestCall.next()

# Map static resources from the /public folder to the /assets URL path
GET           /assets/*file                                            controllers.Assets.at(path="/public", file)

# Thomas :  /map/...
#           /next
#           /init
#
# Aur√©lie : /map/...
#           /instances
#
# Julien : /instances
#          /concepts
#          /relations
#          /actions/...
#          /graph/relations/...
#          /rules
